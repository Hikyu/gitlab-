# 基础知识

合并请求[^1]（Merge Request）是在 GitLab 上进行代码协作的基础。合并请求，即：请求将一个分支（源分支）合并到另一个分支（目的分支）。

为了叙述方便，我们约定以下几个关键词：

- **项目**：指的是由组长在群组内创建的项目，是各个成员共同协作的项目，比如 git@192.168.1.101/java/jdbc/oscarJDBCV1.0.git；

- **fork项目**：群组内项目的 fork 版本，位于自己的命名空间下git@192.168.1.101/yukai/oscarJDBCV1.0.git；

- **本地项目**：位于自己机器上的**fork项目**克隆版本。

源分支即**fork项目中新建的分支**；目的分支即**项目的开发分支**。

每次发起 Merge Request 时，就是请求从**创建的临时分支**合并到**项目的开发分支**上。

Merge Request 流程如下：

1. 准备工作：
   - 项目组长将 Master 分支和 Production 分支设置为保护分支。只允许 Master 合并到这两个分支，不允许任何人推送到这两个分支；

   - 项目成员将项目代码 fork 到自己的命名空间下，并将自己命名空间下的项目 [clone](/setup/clone.md) 到本地； 

   - 设置**本地项目开发分支**跟踪**项目开发分支**（远程分支）

2. 提交代码：
   
   - 拉取远程分支的内容，更新本地开发分支；

   - **从开发分支**创建临时分支并检出到新分支；

   - 针对需求或者 BUG，修改代码，推送新分支到远程仓库；
   
   - 发起 [Merge Request](/review/local-modify.md)，请求合并代码到 Master 分支（或其他分支）；

   - 项目组长[评审代码](/review/discuss.md)，进行讨论，最终评审通过，代码被项目组长合并到 Master 分支；

![](/assets/mr-flow.png)


[^1]: 类似于 Starteam review request，即提交代码评审.





